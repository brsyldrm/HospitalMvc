@model HospitalMvc.Models.ViewModel.PatientAddDateVm
@{
    ViewBag.Title = "Patient";
    Layout = "~/Views/Shared/Layout2.cshtml";
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script>
    $(function () {
        $('#DrpBranch').change(function () {
            var id = $('#DrpBranch').val();
            $.ajax({
                url: '/Home/doctorgetir',
                data: { p: id },
                type: "POST",
                dataType: "Json",
                success: function (data) {
                    console.log("tamamlandı");
                    console.log(data);
                    $('#DrpDoctor').empty();
                    for (var i = 0; i < data.length; i++) {
                        $('#DrpDoctor').append("<option value='" + data[i].Value + "'>" + data[i].Text + "</Option>");
                    }
                }
            });
        });
    });
</script>

<div class="container text-center">
    @Html.Action("PatientList", "Home")


    <div class="col-6">
        <h5>Randevu Oluşturma</h5>
        @using (Html.BeginForm("LoginPanel", "Login", FormMethod.Post))
        {
            @Html.Label("Poliklinik")
            @Html.DropDownList("DrpBranch", Model.Branches, "Poliklinik seçin", new { @class = "form-control" })
            <br />
            @Html.Label("Doktor")
            @Html.DropDownList("DrpDoctor", Model.Doctors, "Doktor seçin", new { @class = "form-control" })

        }
    </div>
</div>
</div>
